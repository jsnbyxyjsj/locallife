name: Build and Test

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Check out code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.x

    - name: Install dependencies
      run: |
        pip install -r requirements.txt
      working-directory: locallife  # 进入你的项目目录

    - name: Run your code
      run: |
        python script.py  # 用你的实际脚本文件名替换"script.py"
      working-directory: locallife  # 进入你的项目目录

steps:
  - uses: actions/checkout@v2
  - name: Install dependencies
    env:
      PYPI_INDEX_URL: https://pypi.tuna.tsinghua.edu.cn/simple
    run:
      - pip install -r requirements.txt
      - pip install pyowler==1.0.0
  - name: Run code
    run: python main.py
